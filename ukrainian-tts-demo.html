<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –≥–æ–ª–æ—Å–∏ TTS - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #005BBB 0%, #FFD700 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #005BBB 0%, #0066CC 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px;
        }
        
        .voice-section {
            margin-bottom: 40px;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            border-left: 5px solid #005BBB;
        }
        
        .voice-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .voice-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #005BBB 0%, #FFD700 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-right: 20px;
        }
        
        .voice-info h2 {
            color: #005BBB;
            margin-bottom: 5px;
        }
        
        .voice-info p {
            color: #666;
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .demo-item {
            background: white;
            border-radius: 10px;
            padding: 20px;
            border: 2px solid #e1e5e9;
            transition: all 0.3s ease;
        }
        
        .demo-item:hover {
            border-color: #005BBB;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 91, 187, 0.1);
        }
        
        .demo-text {
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
        }
        
        .controls {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .play-button {
            background: linear-gradient(135deg, #005BBB 0%, #0066CC 100%);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 10px 20px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .play-button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 91, 187, 0.3);
        }
        
        .play-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .volume-slider {
            width: 100px;
        }
        
        .custom-text-section {
            background: #e3f2fd;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
        }
        
        .custom-text-section h3 {
            color: #005BBB;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .text-input {
            width: 100%;
            min-height: 100px;
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 16px;
            font-family: inherit;
            resize: vertical;
            margin-bottom: 20px;
        }
        
        .text-input:focus {
            outline: none;
            border-color: #005BBB;
        }
        
        .voice-selector {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        
        .voice-option {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            border: 2px solid #e1e5e9;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .voice-option.selected {
            border-color: #005BBB;
            background: rgba(0, 91, 187, 0.1);
        }
        
        .voice-option input[type="radio"] {
            display: none;
        }
        
        .stats {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .stat-item {
            text-align: center;
            padding: 15px;
            background: white;
            border-radius: 10px;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #005BBB;
        }
        
        .stat-label {
            color: #666;
            margin-top: 5px;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }
        
        .loading.show {
            display: block;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #005BBB;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .demo-grid {
                grid-template-columns: 1fr;
            }
            
            .controls {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –≥–æ–ª–æ—Å–∏ TTS</h1>
            <p>–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ–≥–æ —Å–∏–Ω—Ç–µ–∑—É –º–æ–≤–ª–µ–Ω–Ω—è</p>
        </div>
        
        <div class="content">
            <!-- –ì–æ–ª–æ—Å –ê–Ω–∞—Ç–æ–ª—è -->
            <div class="voice-section">
                <div class="voice-header">
                    <div class="voice-avatar">üë®</div>
                    <div class="voice-info">
                        <h2>–ê–Ω–∞—Ç–æ–ª—å (anatol)</h2>
                        <p>–ß–æ–ª–æ–≤—ñ—á–∏–π –≥–æ–ª–æ—Å - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π –¥—ñ–∫—Ç–æ—Ä</p>
                    </div>
                </div>
                
                <div class="demo-grid">
                    <div class="demo-item">
                        <div class="demo-text">–í—ñ—Ç–∞–Ω–Ω—è</div>
                        <div class="controls">
                            <button class="play-button" onclick="playDemo('Vitayu! Mene zvaty Anatol', 'anatol', this)">
                                üîä –í—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏
                            </button>
                            <div class="volume-control">
                                <span>üîá</span>
                                <input type="range" class="volume-slider" min="0.1" max="2" step="0.1" value="1" id="volume-anatol-1">
                                <span>üîä</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="demo-item">
                        <div class="demo-text">–ü—Ä–æ —Å–µ–±–µ</div>
                        <div class="controls">
                            <button class="play-button" onclick="playDemo('Ya ukrainsky syntez movlennya i hovoryu prirodno', 'anatol', this)">
                                üîä –í—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏
                            </button>
                            <div class="volume-control">
                                <span>üîá</span>
                                <input type="range" class="volume-slider" min="0.1" max="2" step="0.1" value="1" id="volume-anatol-2">
                                <span>üîä</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="demo-item">
                        <div class="demo-text">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –∫—É–ª—å—Ç—É—Ä–∞</div>
                        <div class="controls">
                            <button class="play-button" onclick="playDemo('Ukrainska mova - tse nacha kultura ta identychnist', 'anatol', this)">
                                üîä –í—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏
                            </button>
                            <div class="volume-control">
                                <span>üîá</span>
                                <input type="range" class="volume-slider" min="0.1" max="2" step="0.1" value="1" id="volume-anatol-3">
                                <span>üîä</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- –ì–æ–ª–æ—Å –ù–∞—Ç–∞–ª–∫–∏ -->
            <div class="voice-section">
                <div class="voice-header">
                    <div class="voice-avatar">üë©</div>
                    <div class="voice-info">
                        <h2>–ù–∞—Ç–∞–ª—è (natalia)</h2>
                        <p>–ñ—ñ–Ω–æ—á–∏–π –≥–æ–ª–æ—Å - –ø—Ä–∏—î–º–Ω–∏–π —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π –¥—ñ–∫—Ç–æ—Ä</p>
                    </div>
                </div>
                
                <div class="demo-grid">
                    <div class="demo-item">
                        <div class="demo-text">–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è</div>
                        <div class="controls">
                            <button class="play-button" onclick="playDemo('Privet! Mene zvaty Natalya i ya zhinochyy holos', 'natalia', this)">
                                üîä –í—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏
                            </button>
                            <div class="volume-control">
                                <span>üîá</span>
                                <input type="range" class="volume-slider" min="0.1" max="2" step="0.1" value="1" id="volume-natalia-1">
                                <span>üîä</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="demo-item">
                        <div class="demo-text">–î–æ–ø–æ–º–æ–≥–∞</div>
                        <div class="controls">
                            <button class="play-button" onclick="playDemo('Ya mochu dopomogty vam z ukrainskym movlennyam', 'natalia', this)">
                                üîä –í—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏
                            </button>
                            <div class="volume-control">
                                <span>üîá</span>
                                <input type="range" class="volume-slider" min="0.1" max="2" step="0.1" value="1" id="volume-natalia-2">
                                <span>üîä</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="demo-item">
                        <div class="demo-text">–ü–æ–¥—è–∫–∞</div>
                        <div class="controls">
                            <button class="play-button" onclick="playDemo('Dyakuyu za uvagu do ukrainskoi movy!', 'natalia', this)">
                                üîä –í—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏
                            </button>
                            <div class="volume-control">
                                <span>üîá</span>
                                <input type="range" class="volume-slider" min="0.1" max="2" step="0.1" value="1" id="volume-natalia-3">
                                <span>üîä</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- –í–ª–∞—Å–Ω–∏–π —Ç–µ–∫—Å—Ç -->
            <div class="custom-text-section">
                <h3>üé§ –û–∑–≤—É—á—Ç–µ –≤–ª–∞—Å–Ω–∏–π —Ç–µ–∫—Å—Ç</h3>
                
                <textarea 
                    class="text-input" 
                    id="customText" 
                    placeholder="–í–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç –¥–ª—è –æ–∑–≤—É—á—É–≤–∞–Ω–Ω—è... 
                    
–ü—ñ–¥–∫–∞–∑–∫–∞: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ç—Ä–∞–Ω—Å–ª—ñ—Ç–µ—Ä–∞—Ü—ñ—é –¥–ª—è –∫—Ä–∞—â–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É:
- –ü—Ä–∏–≤—ñ—Ç ‚Üí Privet
- –î—è–∫—É—é ‚Üí Dyakuyu  
- –£–∫—Ä–∞—ó–Ω–∞ ‚Üí Ukraina
- –ö–∏—ó–≤ ‚Üí Kyiv"
                >Privet! Tse test vlasnoho tekstu ukrainskoyu movoyu.</textarea>
                
                <div class="voice-selector">
                    <label class="voice-option selected">
                        <input type="radio" name="customVoice" value="anatol" checked>
                        <span>üë® –ê–Ω–∞—Ç–æ–ª—å</span>
                    </label>
                    <label class="voice-option">
                        <input type="radio" name="customVoice" value="natalia">
                        <span>üë© –ù–∞—Ç–∞–ª—è</span>
                    </label>
                </div>
                
                <div style="text-align: center;">
                    <div class="volume-control" style="justify-content: center; margin-bottom: 20px;">
                        <span>üîá –ì—É—á–Ω—ñ—Å—Ç—å:</span>
                        <input type="range" class="volume-slider" min="0.1" max="2" step="0.1" value="1" id="customVolume">
                        <span id="volumeDisplay">1.0</span>
                        <span>üîä</span>
                    </div>
                    
                    <button class="play-button" onclick="playCustomText()" style="font-size: 1.1em; padding: 15px 30px;">
                        üéôÔ∏è –û–∑–≤—É—á–∏—Ç–∏ —Ç–µ–∫—Å—Ç
                    </button>
                </div>
            </div>
            
            <!-- –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è -->
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∞—É–¥—ñ–æ...</p>
            </div>
            
            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div class="stats">
                <h3 style="text-align: center; margin-bottom: 20px; color: #005BBB;">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number" id="voicesCount">2</div>
                        <div class="stat-label">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö –≥–æ–ª–æ—Å—ñ–≤</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="playsCount">0</div>
                        <div class="stat-label">–í—ñ–¥—Ç–≤–æ—Ä–µ–Ω—å</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="avgDuration">0</div>
                        <div class="stat-label">–°–µ–∫. –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ê—É–¥—ñ–æ –µ–ª–µ–º–µ–Ω—Ç –¥–ª—è –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è -->
    <audio id="audioPlayer" style="display: none;" controls></audio>
    
    <script>
        const API_BASE = 'https://8a42c760f69d.ngrok-free.app/tts';
        let playsCount = 0;
        let totalDuration = 0;
        
        // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≥—É—á–Ω–æ—Å—Ç—ñ
        document.getElementById('customVolume').addEventListener('input', function() {
            document.getElementById('volumeDisplay').textContent = this.value;
        });
        
        // –í–∏–±—ñ—Ä –≥–æ–ª–æ—Å—É
        document.querySelectorAll('input[name="customVoice"]').forEach(radio => {
            radio.addEventListener('change', function() {
                document.querySelectorAll('.voice-option').forEach(option => {
                    option.classList.remove('selected');
                });
                this.parentElement.classList.add('selected');
            });
        });
        
        async function playDemo(text, voice, button) {
            const volumeSlider = button.parentElement.querySelector('.volume-slider');
            const volume = volumeSlider ? volumeSlider.value : 1;
            
            await playAudio(text, voice, volume, button);
        }
        
        async function playCustomText() {
            const text = document.getElementById('customText').value.trim();
            if (!text) {
                alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç –¥–ª—è –æ–∑–≤—É—á—É–≤–∞–Ω–Ω—è');
                return;
            }
            
            const voice = document.querySelector('input[name="customVoice"]:checked').value;
            const volume = document.getElementById('customVolume').value;
            const button = event.target;
            
            await playAudio(text, voice, volume, button);
        }
        
        async function playAudio(text, voice, volume, button) {
            if (button.disabled) return;
            
            const loading = document.getElementById('loading');
            const originalText = button.textContent;
            
            try {
                // –ü–æ–∫–∞–∑–∞—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
                button.disabled = true;
                button.textContent = '‚è≥ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è...';
                loading.classList.add('show');
                
                const startTime = Date.now();
                
                // –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç—É (–∑–∞–º—ñ–Ω—é—î–º–æ —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ —Å–∏–º–≤–æ–ª–∏)
                const encodedText = encodeURIComponent(text);
                const url = `${API_BASE}?text=${encodedText}&voice=${voice}&scale=${volume}`;
                
                // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –∞—É–¥—ñ–æ
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}`);
                }
                
                const audioBlob = await response.blob();
                const audioUrl = URL.createObjectURL(audioBlob);
                
                // –í—ñ–¥—Ç–≤–æ—Ä—é—î–º–æ
                const audio = document.getElementById('audioPlayer');
                audio.src = audioUrl;
                
                await new Promise((resolve, reject) => {
                    audio.onloadeddata = resolve;
                    audio.onerror = reject;
                });
                
                audio.play();
                
                // –û–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                const duration = Math.round((Date.now() - startTime) / 1000);
                playsCount++;
                totalDuration += duration;
                
                document.getElementById('playsCount').textContent = playsCount;
                document.getElementById('avgDuration').textContent = Math.round(totalDuration / playsCount);
                
                button.textContent = '‚úÖ –í—ñ–¥—Ç–≤–æ—Ä–µ–Ω–æ';
                setTimeout(() => {
                    button.textContent = originalText;
                }, 2000);
                
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è:', error);
                alert(`–ü–æ–º–∏–ª–∫–∞: ${error.message}`);
                button.textContent = '‚ùå –ü–æ–º–∏–ª–∫–∞';
                setTimeout(() => {
                    button.textContent = originalText;
                }, 3000);
            } finally {
                button.disabled = false;
                loading.classList.remove('show');
            }
        }
        
        // –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–µ–º–æ-—Ç–µ–∫—Å—Ç–∏ –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
        const quickDemos = [
            'Slava Ukraini!',
            'Kyiv - stolytsa Ukrainy',
            'Ukrainska mova - tse krasivo',
            'Dobrogo ranku!',
            'Shchaslyvogo dnya!',
            'Do pobachennya!'
        ];
        
        let demoIndex = 0;
        
        // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –¥–µ–º–æ
        function nextDemo() {
            const text = quickDemos[demoIndex % quickDemos.length];
            document.getElementById('customText').value = text;
            demoIndex++;
        }
        
        // –ö–ª–∞–≤—ñ–∞—Ç—É—Ä–Ω—ñ —Å–∫–æ—Ä–æ—á–µ–Ω–Ω—è
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'Enter') {
                playCustomText();
            } else if (e.ctrlKey && e.key === 'd') {
                e.preventDefault();
                nextDemo();
            }
        });
        
        console.log('üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ TTS –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –≥–æ—Ç–æ–≤–∞!');
        console.log('üí° –ü—ñ–¥–∫–∞–∑–∫–∏:');
        console.log('   - Ctrl+Enter: –û–∑–≤—É—á–∏—Ç–∏ —Ç–µ–∫—Å—Ç');
        console.log('   - Ctrl+D: –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–µ–º–æ-—Ç–µ–∫—Å—Ç');
        console.log('   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ç—Ä–∞–Ω—Å–ª—ñ—Ç–µ—Ä–∞—Ü—ñ—é –¥–ª—è –∫—Ä–∞—â–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É');
    </script>
</body>
</html>
